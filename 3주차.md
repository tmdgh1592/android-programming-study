# Chapter6

## 액티비티 시작하기

### 인텐트로 통신하기

`인텐트`는 컴포넌트가 운영체제와 통신하는데 사용할 수 있는 객체

- 다목적 통신 도구로, 이걸 추상화한 Intent 클래스는 인텐트의 용도에 따라 다른 생성자들 제공

```kotlin
Intent(packageContext: Context, class: Class<?>)
```

Intent 생성자에 전달하는 Class 인자에는 ActivityManager가 시작시켜야 하는 액티비티 클래스를 지정한다.

Context 인자는 액티비티 클래스가 있는 애플리케이션 패키지를 ActivityManager에게 알려준다.

**명시적 인텐트와 암시적 인텐트**

- 명시적 인텐트는 Context 객체와 Class 객체를 사용해서 생성하는 Intent
- 명시적 인텐트는 앱 내부에 있는 액티비티를 시작시키기 위해 사용
- 한 애플리케이션의 액티비티에서 다른 애플리케이션의 액티비티를 시작시키려면 암시적 인텐트 생성

## 액티비티 간의 데이터 전달

### 인텐트 엑스트라 사용하기

`엑스트라`는 호출하는 액티비티가 인텐트에 포함시킬 수 있는 임의의 데이터, 요청된 인텐트는 안드로이드 운영체제가 받아서 수신 액티비티에 전달, 수신 액티비티는 해당 인텐트의 엑스트라로 전달된 데이터를 추출해 사용

- 엑스트라 키와 값이 한 쌍이 된 구조
- 인텐트에 엑스트라 추가하려면 Intent.putExtra(…) 사용

```kotlin
Intent.putExtra(...)
// 항상 두 개의 인자를 가짐
// 첫 번째 인자는 항상 String 타입, 엑스트라로 저장할 데이터 항목의 키를 나타냄
// 두 번째 인자는 키의 값을 나타내며, 다양한 타입으로 오버로딩
// Intent 객체 자신을 반환하므로 필요하다면 .을 사용해서 연속적으로 Intent 함수 호출 가능 
```

동반 객체를 사용하면 클래스 인스턴스를 생성하지 않고 동반 객체의 함수를 사용할 수 있다. 

# Chapter7

## 호환성과 안드로이드 프로그래밍

**최소 SDK 버전**

- minSdkVersion 값은 앱을 설치하는 기준으로 삼는 최소한의 안드로이드 버전

**목표 SDK 버전**

- targetSdkVersion 값은 앱 설계에 사용된 API 레벨을 안드로이드에 알려준다.
- 대부분의 경우에는 이 값이 가장 최신의 안정화된 안드로이드 버전이 되는데, 그 이유는 하위 버전과의 호환성이 유지되기 때문이다.
- 목표 SDK를 더 하위버전으로 지정할 때는 앱이 잘 작동하던 상위버전에서 동작하던 대로 하위 버전에서 여전히 잘 작동하는지 확인하기 위함
- 단, 구글 플레이 스토어에 신규 앱을 올리거나 앱을 업데이트할 때 목표 SDK 최저 버전에 제한이 있다.

**컴파일 SDK 버전**

- compileSdkVersion이 컴파일 SDK이며 매니페스트 파일에는 사용되지 않고, 우리와 컴파일러만 아는 정보
- 컴파일 SDK 버전은 코드를 빌드할 때 사용하는 버전
- 안드로이드 스튜디오가 import 문으로 참조되는 클래스나 함수를 찾을 때 어떤 버전의 SDK에서 찾을 것인가를 결정하는 버전
- 컴파일 SDK 버전을 선택할 때 가장 좋은 방법은 가장 최신에 가까우면서 안정된 API 레벨을 선택하는 것

**Jetpack 라이브러리**

APi 레벨을 고려한 코드(분기처리)

- 안드로이드 버전마다 다른 코드가 실행되게 해야 하므로 추가 코드를 작성해야함.
- 장치에서 실행되는 안드로이드 버전에 따라 앱이 다르게 실행되므로 사용자 경험이 달라진다.

Jetpack 라이브러리는 새로운 기능과 함께 이에 대한 하위 호환성 제공, 따라서 Jetpack 라이브러리를 사용하면 조건문을 사용한 API 레벨 확인 코드 작성하지 않아도 됨.

Jetpack 라이브러리가 호환성의 만병통치약은 아님, 우리가 사용하려는 모든 기능을 포함하지는 않기 때문이다. 특정 API들은 여전히 사용할 수 없는 경우가 있다. 이럴 때는 어쩔 수 없이 해당 API들이 Jetpack 라이브러리에 추가될 때까지는 안드로이드 버전 확인 코드를 따로 작성해야 한다.
