# 🔟 레이아웃과 위젯으로 사용자 인터페이스 생성하기

### 중첩된 레이아웃

- 중첩은 레이아웃을 파악하고 변경하는 데 어렵게 하며, 앱의 성능도 저하된다.
- 중첩된 레이아웃을 안드로이드 운영체제가 처리하고 보여주는 데 시간이 오래 걸리기 때문이다.
- 이렇게 되면 결국 사용자가 뷰를 화면에서 보는 데 지연이 생길 수 있음을 의미한다.
- 반면, 중첩되지 않은 레이아웃은 안드로이드 운영체제가 빠르게 처리해서 보여준다.

### ConstraintLayout

- `ConstraintLayout` 을 사용하면 중첩하지 않고도 복잡한 레이아웃을 만들 수 있다.
- `ConstraintLayout` 을 사용할 때는 중첩된 레이아웃을 사용하는 대신 **제약(constraint)**들을 레이아웃에 추가한다. 여기서 제약은 두 개의 물건을 연결해 끌어당기는 고무 밴드라고 생각하면 된다.
- `ConstraintLayout` 에 뷰(위젯)를 위치시킬 때는 제약만 지정하면 된다.
- 위젯의 크기 조정 방법
  - 위젯이 포함된 콘텐츠에 맞춰 스스로 결정 : `wrap_content`
  - 직접 지정 : `10dp`
  - 지정된 제약에 맞춰 위젯이 자동으로 확장 : `0dp`

### layout_ 속성

- `layout_` 으로 시작하는 모든 속성을 레이아웃 **매개변수(layout parameter)**라고 한다.
- 다른 속성들과 달리 레이아웃 매개변수는 위젯의 부모에 대한 방향을 나타낸다.
  - 즉, 부모 내부에 자식 요소를 배치하는 방법을 부모 레이아웃에게 알려주는 것이다.
- `layout_` 으로 시작하는 속성으로는 `layout_width, layout_height` 등이 있다.

### 안드로이드 마진

- 안드로이드 스튜디오는 기본 마진 값으로 `8dp` 나 `16dp` 를 사용한다.
- 이 값들은 안드로이드의 머티리얼 디자인(material design) 지침을 따른 것이다.

### 테마 속성 참조(theme attribute reference)

- 테마 속성 참조를 사용하면 앱의 테마 스타일을 위젯에 적용할 수 있다.
- `?android:listSperatorTextViewStyle` 이 바로 테마 속성 참조다.
- 테마 속성 참조에서는 안드로이드의 런타임 리소스 매니저에게 `이 앱의 테마에 가서 listSperatorTextViewStyle이라는 이름의 속성을 찾아라. 이 속성은 다른 스타일 리소스를 가리킨다. 이 리소스의 값을 가져와서 여기에 넣어라.` 라고 알려준다.
- 모든 안드로이드 테마는 `listSperatorTextViewStyle` 이라는 이름의 속성을 포함한다.
- 테마 속성 참조를 사용하면 TextView들이 앱에 적합한 룩앤필을 갖게 된다.

### 마진 vs 패딩

- 마진 속성은 레이아웃 매개변수이며 위젯들 간의 간격을 결정한다.
  - 따라서 위젯 자신은 마진을 알 수 없고, 당연히 해당 위젯의 부모가 마진을 처리해야 한다.
- 패딩은 레이아웃 매개변수가 아니다. 패딩은 위젯이 갖고 있는 콘텐츠보다 자신이 얼마나 더 커야 하는지를 나타낸다.

### Guideline

- ConstraintLayout에만 존재한다.
- 도우미 뷰로 화면에 뷰를 쉽게 배치할 수 있게 해준다.
- 가이드라인은 앱 화면에 나타나지 않는다.
- 가이드라인은 수평과 수직 방향의 두 가지가 있으며, dp 값을 사용하거나 화면에 대한 비율(%)로 설정해 특정 위치에 둘 수 있다.
- 화면 크기가 다르더라도 같은 위치에 나타나도록 다른 뷰들이 가이드라인에 제약을 연결할 수 있다.

### MotionLayout

- ConstraintLayout을 확장한 것이며, 뷰에 애니메이션을 쉽게 추가해준다.
- MotionLayout을 사용하려면 MotionScene 파일을 생성한다.
- 이 파일은 애니메이션이 어떻게 수행되어야 하는지, 그리고 시작과 끝 레이아웃의 어떤 뷰들이 상호 연관되는지를 나타낸다.
- 그리고 Keyframe을 정의해서 애니메이션에 개입되는 뷰들도 정의할 수 있다.