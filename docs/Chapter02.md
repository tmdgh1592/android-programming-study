# 2️⃣ 안드로이드와 모델-뷰-컨트롤러

### 기본 생성자

- 코틀린에서 클래스 이름 다음에 지정되는 괄호는 기본 생성자와 속성을 나타낸다.

### @StringRes Annotation

- 없어도 되지만 다음 두 가지 이유로 지정하는 것이 좋다.
  - 생성자에서 **유효한 문자열 리소스 ID를 제공**하는지 여부를 **컴파일 시점에서 Lint(안드로이드 스튜디오에 내장된 코드 검사기)가 검사**한다. 따라서 유효하지 않은 리소스 ID가 생성자에 사용되어 런타임 시 앱이 중단되는 것을 방지해준다.
  - 다른 개발자가 쉽게 코드를 알 수 있다. 즉, 다른 개발자는 해당 속성이 문자열 리소스 ID라는 것을 쉽게 알 수 있다.

### Data Class

- 등장배경
  - 비즈니스 로직을 처리하는 함수보다는 주로 데이터를 저장하는 속성을 갖는 클래스가 존재한다.
  - 이런 경우 다음과 같은 기능이 공통적으로 필요하다.
    - 클래스 인스턴스끼리 각 속성의 값을 비교하는 기능 - `fun equals()`
    - 인스턴스를 컬렉션(예를 들어 `HashMap`)에 저장할 때 사용할 키 값인 `hash code`를 생성하는 기능 - `fun hashCode()`
    - 속성값을 문자열로 쉽게 출력하는 기능 - `fun toString()`
- 위에 설명한 필요 기능을 처리해주는 함수들을 해당 클래스에 맞게 코틀린 컴파일러가 자동으로 생성해준다.

### MVC와 안드로이드

- 안드로이드 API는 MVC 아키텍처에 맞추어 설계되었다.
- 애플리케이션의 어떤 객체든 MVC 중 하나의 객체가 되어야 한다는 것이 MVC의 주요 관점이다.
- MVC 요소
  - Model
    - 애플리케이션의 `데이터`와 `비즈니스 로직`을 갖는다.
    - UI를 모른다.
    - 데이터를 보존하고 관리하는 것이 유일한 목적이다.
  - View
    - 자신을 화면에 그리는 방법과 터치와 같은 사용자의 입력에 응답하는 방법이다.
    - 즉, 화면에서 볼 수 있는 것이라면 뷰 객체다.
    - 뷰 객체들은 뷰 계층(view layer)을 구성한다.
  - Controller
    - 뷰와 모델 객체를 연결해주며 `애플리케이션 로직`을 포함한다.
    - 뷰 객체에 의해 발생하는 다양한 이벤트에 응답하고 모델 객체 및 뷰 계층과 주고받는 데이터의 흐름을 관리한다.
    - 안드로이드에서 컨트롤러는 일반적으로 `activity`나 `fragment`의 서브 클래스이다.
- MVC 장점
  - 클래스들을 MVC 계층으로 분리하면 애플리케이션을 설계하고 이해하는 데 도움이 된다. 개별적인 클래스 대신 계층의 관점으로 생각할 수 있기 때문이다.
  - 새로운 객체가 생성되어도 다른 클래스가 내부적으로 어떻게 구현되어 있는지 몰라도 된다.
  - 각 클래스는 제한된 책임을 갖게 되어 재사용이 쉬워진다. 예를 들어, 하나의 모델 객체를 여러 뷰 객체에서 사용 가능해진다.

### 뷰 계층

- 안드로이드에서 뷰 계층의 객체들은 레이아웃 파일에 정의된 XML로부터 인플레이트되어 생성된다.

### 화면 픽셀 밀도

- **텍스트 크기**는 장치의 화면에 나타나는 **텍스트의 픽셀 높이**다.

- 마진은 각 뷰 간의 간격을 나타내며, 패딩은 한 뷰의 바깥쪽 테두리와 이것의 내부 콘텐츠 간의 간격을 나타낸다. 즉, **마진은 뷰 바깥 여백이고, 패딩은 뷰 내부 여백**이다.

- 안드로이드에서는 화면 밀도 수식자가 이름에 붙은 여러 개의 drawable 폴더를 사용하여 서로 다른 화면 픽셀 밀도에 맞게 자동으로 이미지 크기를 조정한다.

- 안드로이드는 밀도에 독립적인 크기 단위를 제공한다. 또한 안드로이드가 그 단위를 런타임 시에 픽셀로 변환하므로 신경 쓸 필요도 없다.

- 크기 단위

  - px
    - pixel(픽셀)의 줄임말이다.
    - 화면 밀도와는 무관하게 1픽셀은 화면의 1픽셀과 일치한다.
    - 장치의 화면 밀도에 적합하게 조정되지 않으므로 사용을 권장하지 않는다.
  - dp
    - density-independent pixel(밀도 독립적 픽셀)의 줄임말이다.
    - `딥` 또는 `디피`라고 발음한다.
    - 마진과 패딩 등의 크기를 픽셀 값으로 지정하지 않을 때 사용한다.
    - `1dp`는 항상 장치 화면의 1/60 인치이며, 화면 밀도와 무관하게 일정한 크기를 갖는다.
    - 따라서 장치의 화면이 고밀도일 때는 더 많은 수의 화면 픽셀을 채우기 위해 `dp`를 사용한다.
  - sp
    - scale-independent pixel(크기 독립적 픽셀)의 줄임말이다.
    - `sp`는 사용자의 폰트 크기 선택도 고려한 `dp`다.
    - 주로 화면에 나타나는 텍스트 크기를 설정하기 위해 사용한다.
  - pt, mm, in
    - 포인트(1/72 인치), 밀리미터, 인치로 크기를 지정할 수 있는 크기 단위이다.
    - 모든 장치에 잘 맞도록 구성되지 않아 사용을 권장하지 않는다.

  ### Button

  - Button
    - TextView에서 상속받는다.
  - ImageButton
    - ImageView에서 상속받는다.
